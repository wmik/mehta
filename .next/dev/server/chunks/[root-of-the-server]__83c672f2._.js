module.exports = [
"[externals]/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-route-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/after-task-async-storage.external.js [external] (next/dist/server/app-render/after-task-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/after-task-async-storage.external.js", () => require("next/dist/server/app-render/after-task-async-storage.external.js"));

module.exports = mod;
}),
"[project]/src/lib/prisma.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "prisma",
    ()=>prisma
]);
var __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2c$__cjs$2c$__$5b$project$5d2f$node_modules$2f40$prisma$2f$client$29$__ = __turbopack_context__.i("[externals]/@prisma/client [external] (@prisma/client, cjs, [project]/node_modules/@prisma/client)");
;
const globalForPrisma = globalThis;
const prisma = globalForPrisma.prisma ?? new __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2c$__cjs$2c$__$5b$project$5d2f$node_modules$2f40$prisma$2f$client$29$__["PrismaClient"]();
if ("TURBOPACK compile-time truthy", 1) globalForPrisma.prisma = prisma;
}),
"[externals]/util [external] (util, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("util", () => require("util"));

module.exports = mod;
}),
"[externals]/url [external] (url, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("url", () => require("url"));

module.exports = mod;
}),
"[externals]/http [external] (http, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("http", () => require("http"));

module.exports = mod;
}),
"[externals]/crypto [external] (crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}),
"[externals]/assert [external] (assert, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("assert", () => require("assert"));

module.exports = mod;
}),
"[externals]/querystring [external] (querystring, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("querystring", () => require("querystring"));

module.exports = mod;
}),
"[externals]/buffer [external] (buffer, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("buffer", () => require("buffer"));

module.exports = mod;
}),
"[externals]/zlib [external] (zlib, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("zlib", () => require("zlib"));

module.exports = mod;
}),
"[externals]/https [external] (https, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("https", () => require("https"));

module.exports = mod;
}),
"[externals]/events [external] (events, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("events", () => require("events"));

module.exports = mod;
}),
"[project]/src/lib/auth.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "auth",
    ()=>auth,
    "authOptions",
    ()=>authOptions,
    "handlers",
    ()=>handlers,
    "signIn",
    ()=>signIn,
    "signOut",
    ()=>signOut
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next-auth/index.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$providers$2f$credentials$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next-auth/providers/credentials.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$auth$2f$prisma$2d$adapter$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@auth/prisma-adapter/index.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/prisma.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bcryptjs$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/bcryptjs/index.js [app-route] (ecmascript)");
;
;
;
;
;
const authOptions = {
    adapter: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$auth$2f$prisma$2d$adapter$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["PrismaAdapter"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"]),
    providers: [
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$providers$2f$credentials$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"])({
            name: 'credentials',
            credentials: {
                email: {
                    label: 'Email',
                    type: 'email'
                },
                password: {
                    label: 'Password',
                    type: 'password'
                }
            },
            async authorize (credentials) {
                if (!credentials?.email || !credentials?.password) {
                    return null;
                }
                const supervisor = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].supervisor.findUnique({
                    where: {
                        email: credentials.email
                    }
                });
                if (!supervisor) {
                    return null;
                }
                const isPasswordValid = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$bcryptjs$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].compare(credentials.password, supervisor.password);
                if (!isPasswordValid) {
                    return null;
                }
                return {
                    id: supervisor.id,
                    email: supervisor.email,
                    name: supervisor.name,
                    role: 'supervisor'
                };
            }
        })
    ],
    session: {
        strategy: 'jwt'
    },
    callbacks: {
        async jwt ({ token, user }) {
            if (user) {
                token.role = user.role;
            }
            return token;
        },
        async session ({ session, token }) {
            if (token) {
                session.user.id = token.sub;
                session.user.role = token.role;
            }
            return session;
        }
    },
    pages: {
        signIn: '/login'
    }
};
const { handlers, auth, signIn, signOut } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"])(authOptions);
}),
"[project]/src/app/api/sessions/route.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "GET",
    ()=>GET,
    "POST",
    ()=>POST
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/server.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/prisma.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/auth.ts [app-route] (ecmascript)");
;
;
;
// Sample therapy session transcripts (Growth Mindset sessions)
const SAMPLE_TRANSCRIPTS = [
    {
        groupId: "GRP-001",
        transcript: `Fellow: Good morning everyone! Welcome to our session on Growth Mindset. Today we're going to talk about how our abilities can grow stronger with practice, just like muscles.

Student 1: What does that mean exactly?

Fellow: Great question! Growth Mindset is belief that our intelligence and talents aren't fixed - they can be developed through dedication and hard work. Think of your brain like a muscle that gets stronger with exercise.

Student 2: But I'm just not good at math. Some people are naturally smart.

Fellow: I understand why you might feel that way, but research shows that when we believe we can improve, we actually do better. The brain grows new connections when we learn challenging things. It's not about being "naturally smart" - it's about effort you put in.

Student 3: Can you give us an example?

Fellow: Absolutely. Think about learning to ride a bike. At first, you might fall many times, but with practice, you get better. Your brain forms new pathways. The same happens with learning new subjects. Each time you struggle with a math problem and keep trying, you're literally building your brain.

Student 1: What happens when we fail? Isn't that bad?

Fellow: Failure is actually a crucial part of learning! When we make mistakes, our brain works harder to figure out what went wrong. That's when real growth happens. Instead of thinking "I failed," try thinking "I learned what doesn't work."

Student 2: So how can we develop a Growth Mindset?

Fellow: Great question! Here are some strategies: First, pay attention to your self-talk. Replace "I can't do this" with "I can't do this YET." Second, seek challenges instead of avoiding them. Third, learn from criticism instead of getting defensive. And fourth, celebrate effort, not just results.

Student 3: Does this work for everything?

Fellow: Growth Mindset applies to all areas of life - academics, sports, relationships, careers. Remember, most successful people aren't necessarily most talented initially, but they're usually most persistent.

Student 1: What if I keep trying and still don't improve?

Fellow: That's a valid concern. Sometimes we need to try different approaches or strategies. Growth Mindset isn't just about trying harder - it's about trying smarter. Don't be afraid to ask for help or try new methods.

Student 2: I used to give up easily when things got hard.

Fellow: That's very honest! The good news is that you can start changing that pattern today. What's one area where you'd like to apply Growth Mindset thinking?

Student 3: I want to get better at public speaking.

Fellow: That's a great goal! What's one small step you could take this week to work on it?

Student 3: Maybe I could volunteer to answer questions in class more often.

Fellow: Perfect! That's exactly how Growth Mindset works in practice.

Student 1: I'll try to stop saying "I'm bad at math" and instead say "I'm still learning math."

Fellow: Excellent! That shift in language can really change how you approach challenges.

Student 2: I'll ask my teacher for help when I don't understand instead of giving up.

Fellow: Wonderful! Remember, asking for help shows strength, not weakness. It shows you're committed to growing.

Thank you all for sharing today. I'm really impressed with your insights. Remember, your brain is like a muscle - more you use it and challenge it, stronger it becomes. Keep practicing these strategies, and I promise you'll see amazing results in all areas of your life!`
    },
    {
        groupId: "GRP-002",
        transcript: `Fellow: Hello everyone! Today we're continuing our discussion about Growth Mindset. Last week we talked about what Growth Mindset means. Today, let's dive deeper into how we can apply it in our daily lives.

Student 1: I've been thinking about what you said last week about brain being like a muscle.

Fellow: I'm glad to hear that! What thoughts came up for you?

Student 1: I realized I've been saying "I'm not a creative person" for years. Maybe I can change that.

Fellow: That's a huge insight! Creativity isn't something you're born with or without. It's a skill that develops with practice. What kind of creative activities interest you?

Student 1: Maybe drawing or writing stories.

Fellow: That's wonderful! The key is to start small and practice regularly, not worry about being perfect at first.

Student 2: I tried "I can't do this yet" strategy this week in math class.

Fellow: How did that feel?

Student 2: Different! I didn't give up as quickly when I got stuck on a problem. I kept trying different approaches.

Fellow: That's exactly what Growth Mindset is about - persistence and strategy. How did it turn out?

Student 2: I actually solved the problem! It took me longer than usual, but I did it.

Fellow: That's fantastic! You experienced firsthand how effort and strategy can lead to success. Did your brain feel different afterward?

Student 2: Tired but good! Like I'd really accomplished something.

Fellow: That's your brain growing! When we struggle with something challenging and eventually succeed, that's when new neural pathways form.

Student 3: I have a question. What if I try something new and fail completely?

Fellow: Another great question. First, redefine "failure." In Growth Mindset, there's no such thing as failure - only learning opportunities. Each attempt teaches you something, even if it's "this approach doesn't work."

Student 1: But some people seem to succeed easily at everything. Does that mean they have fixed talent?

Fellow: What looks like "easy success" is often years of hidden practice. Think about athletes who make things look effortless - you're not seeing the thousands of hours of training behind that performance.

Student 2: That makes sense. My cousin seems naturally good at everything, but I know he studies a lot.

Fellow: Exactly! We often don't see the effort behind others' success. That's why comparing ourselves to others isn't helpful - we don't know their full story.

Student 3: How do we stay motivated when progress is slow?

Fellow: Focus on process goals rather than outcome goals. Instead of "get an A," focus on "study for 30 minutes each day" or "ask for help when confused." Process goals are within your control.

Student 1: I like that idea. Outcome goals can feel overwhelming.

Fellow: They can! Process goals keep you grounded in what you can actually do each day.

Student 2: What about when other people criticize us or say we're not good at something?

Fellow: That's tough, but remember: feedback is information, not judgment. Constructive criticism helps us identify areas for growth. Unhelpful criticism says more about other person than about you.

Student 3: How do we know the difference?

Fellow: Constructive feedback is specific and actionable: "Your presentation would be stronger if you made more eye contact." Unhelpful criticism is vague and personal: "You're bad at presentations."

Student 1: I never thought about it that way.

Fellow: Growth Mindset changes how we interpret everything - effort, struggle, feedback, even success. Success isn't proof of fixed ability - it's result of effective strategies and hard work.

Student 2: This is changing how I think about school.

Fellow: That's my hope for all of you! When you approach challenges with curiosity instead of fear, learning becomes exciting rather than threatening.

Student 3: Can we share one thing we'll practice this week?

Fellow: I'd love that! Who wants to start?

Student 1: I'm going to try drawing for 10 minutes every day, even if I think my drawings are bad.

Fellow: Perfect! Focus on practice, not product.

Student 2: I'll use "yet" when I catch myself saying "I can't."

Fellow: Excellent! That small word can make a huge difference.

Student 3: I'll ask questions in class when I don't understand instead of staying quiet.

Fellow: That's brave and smart! Questions show you're engaged and ready to learn.

You're all demonstrating Growth Mindset right now by being open to new ideas and willing to try new approaches. Remember, growth isn't always comfortable, but it's always worth it. Keep practicing these strategies, and I promise you'll see changes in how you approach challenges and in what you believe you can achieve!`
    }
];
async function GET() {
    try {
        const session = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["auth"])();
        console.log('Auth session:', session);
        if (!session?.user?.id) {
            console.log('No user session');
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                error: 'Unauthorized'
            }, {
                status: 401
            });
        }
        console.log('User ID:', session.user.id);
        const sessions = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].session.findMany({
            where: {
                supervisorId: session.user.id
            },
            include: {
                fellow: {
                    select: {
                        name: true,
                        email: true
                    }
                },
                analyses: {
                    select: {
                        id: true,
                        riskDetection: true,
                        supervisorStatus: true,
                        createdAt: true
                    },
                    orderBy: {
                        createdAt: 'desc'
                    },
                    take: 1
                }
            },
            orderBy: {
                date: 'desc'
            }
        });
        console.log('Sessions found:', sessions.length);
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            sessions
        });
    } catch (error) {
        console.error('Sessions fetch error:', error);
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            error: 'Failed to fetch sessions: ' + error.message
        }, {
            status: 500
        });
    }
}
async function POST() {
    try {
        // Get supervisor and fellows
        const supervisor = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].supervisor.findFirst({
            where: {
                email: 'supervisor@shamiri.org'
            }
        });
        const fellows = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].fellow.findMany({
            where: {
                supervisorId: supervisor?.id
            }
        });
        if (!supervisor || fellows.length === 0) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                error: 'No supervisor or fellows found. Run /api/seed first.'
            }, {
                status: 400
            });
        }
        // Create sample sessions
        const sessions = [];
        const now = new Date();
        for(let i = 0; i < 10; i++){
            const fellow = fellows[i % fellows.length];
            const sampleData = SAMPLE_TRANSCRIPTS[i % SAMPLE_TRANSCRIPTS.length];
            // Create session date from last 10 days
            const sessionDate = new Date(now);
            sessionDate.setDate(now.getDate() - (9 - i));
            sessionDate.setHours(14 + Math.floor(Math.random() * 4), 0, 0, 0); // Random time 2-6 PM
            const session = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].session.create({
                data: {
                    groupId: `${sampleData.groupId}-${i + 1}`,
                    date: sessionDate,
                    transcript: sampleData.transcript,
                    status: [
                        'PENDING',
                        'PROCESSED',
                        'FLAGGED_FOR_REVIEW',
                        'SAFE'
                    ][Math.floor(Math.random() * 4)],
                    fellowId: fellow.id,
                    supervisorId: supervisor.id
                },
                include: {
                    fellow: {
                        select: {
                            name: true,
                            email: true
                        }
                    }
                }
            });
            sessions.push(session);
        }
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            message: 'Sample sessions created successfully',
            sessions: sessions.map((s)=>({
                    id: s.id,
                    groupId: s.groupId,
                    date: s.date,
                    status: s.status,
                    fellow: s.fellow
                }))
        });
    } catch (error) {
        console.error('Session creation error:', error);
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            error: 'Failed to create sample sessions'
        }, {
            status: 500
        });
    }
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__83c672f2._.js.map